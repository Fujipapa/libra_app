<%= form_tag(books_path, method: "get") do %>
    <div class = "form-group">
        <label for = "InputKeyword">キーワードで検索できます</label>
        <input name = "keyword" class = "form-control" id = "InputKeyword" value = "<%= @keyword %>">
    </div>
    <button type = "submit" class = "btn btn-info mt-2">検索</button>
<% end %>

<div class = "table-responsive-sm">
    <table class = "table table-striped">
        <table class = "table table-bordered">
            <thead>
                <tr>
                    <th>#</th>
                    <th>タイトル</th>
                    <th>ジャンル</th>
                    <th>貸出</th>
                    <th>返却予定日</th>
                </tr>
            </thead>
            <tbody>
                <% @books.each do |book| %>
                    <tbody>
                        <tr>
                            <th scope = "row"><%= book.id %></th>
                            <td><%= link_to book.title, book_path(book.id), class: "text-dark"%></td>
                            <td><%= book.genre.genre %></td>
                            <td><%= book.status ? "可" : (@reservations.find_by(book_id: book.id) ? "可" : "不可") %></td>
                            <td><%= book.return_date %></td>
                        </tr>
                    </tbody>
                <% end %>
            </tbody>
        </table>
    </table>    
</div>
<div class = "d-none d-lg-block">
    <%= paginate @books, window: 2 %>
</div>
<div class = "d-block d-lg-none">
    <%= paginate @books, window: 1 %>
</div>

